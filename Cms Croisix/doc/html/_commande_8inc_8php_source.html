<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CMSCroisix:  Fichier source de class/Commande.inc.php</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Généré par Doxygen 1.6.2 -->
  <div class="navpath"><a class="el" href="dir_a0b1ff84f080d2ce1409d6712f25da0e.html">class</a>
  </div>
<div class="contents">
<h1>Commande.inc.php</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00009"></a><a class="code" href="class_commande.html">00009</a> <span class="keyword">class </span><a class="code" href="class_commande.html" title="G&amp;egrave;re les commandes faites sur la boutique.">Commande</a> {
<a name="l00013"></a><a class="code" href="class_commande.html#ae21656687030596dc6e0b49513784598">00013</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#ae21656687030596dc6e0b49513784598">$numcom</a>;
<a name="l00018"></a><a class="code" href="class_commande.html#a20e97c6fd1adbd37b5691ad85a3e274c">00018</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a20e97c6fd1adbd37b5691ad85a3e274c">$ttva</a>=0;
<a name="l00023"></a><a class="code" href="class_commande.html#aa0a7d652debc80e4659fb812cd9564bd">00023</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#aa0a7d652debc80e4659fb812cd9564bd">$montantHT</a>;
<a name="l00028"></a><a class="code" href="class_commande.html#ae2499a18b84a8a077227b337b8c56a76">00028</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#ae2499a18b84a8a077227b337b8c56a76">$montantTTC</a>;
<a name="l00033"></a><a class="code" href="class_commande.html#a3fb02eddd2418b392264ee25456c05a9">00033</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a3fb02eddd2418b392264ee25456c05a9">$numclient</a>;
<a name="l00038"></a><a class="code" href="class_commande.html#ae767d2166958fee78f1a6150b9e7c52c">00038</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#ae767d2166958fee78f1a6150b9e7c52c">$numlivfact</a>;
<a name="l00043"></a><a class="code" href="class_commande.html#a099d2c01478bec09c4705115119da288">00043</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a099d2c01478bec09c4705115119da288">$pays</a>;
<a name="l00048"></a><a class="code" href="class_commande.html#a3e92e828bfd910415ee4ba9d9acfb383">00048</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a3e92e828bfd910415ee4ba9d9acfb383">$tva</a>;
<a name="l00053"></a><a class="code" href="class_commande.html#aee81022db2fc8e54e33de07056388f74">00053</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#aee81022db2fc8e54e33de07056388f74">$fraisPort</a>;
<a name="l00058"></a><a class="code" href="class_commande.html#ac373e2e8e89d973a35029942e5a28f79">00058</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#ac373e2e8e89d973a35029942e5a28f79">$totalPoids</a>;
<a name="l00063"></a><a class="code" href="class_commande.html#a9077b7d5498ad8bc03a9a9d94ceae99c">00063</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a9077b7d5498ad8bc03a9a9d94ceae99c">$numerop</a>;
<a name="l00068"></a><a class="code" href="class_commande.html#a8a54b336992a6433a00d16b5312b5f9b">00068</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a8a54b336992a6433a00d16b5312b5f9b">$tpereg</a>;
<a name="l00073"></a><a class="code" href="class_commande.html#a3d5f970d9fc647162c330cf533c99990">00073</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a3d5f970d9fc647162c330cf533c99990">$numpays</a>;
<a name="l00077"></a>00077         <span class="keyword">public</span> $nom_pays;
<a name="l00084"></a><a class="code" href="class_commande.html#ab13fad61ed44dd04d2edfa3c48690571">00084</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#ab13fad61ed44dd04d2edfa3c48690571">$etat</a>;
<a name="l00090"></a><a class="code" href="class_commande.html#a3a0e45f11aac6e3c3a4f59c0f4cda060">00090</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a3a0e45f11aac6e3c3a4f59c0f4cda060">$suivi_coliposte</a>;
<a name="l00096"></a><a class="code" href="class_commande.html#a716f8aa982d57f7153c1e4dcbb42c917">00096</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a716f8aa982d57f7153c1e4dcbb42c917" title="Date de création sous format jj/mm/AA.">$dcrea</a>;
<a name="l00102"></a><a class="code" href="class_commande.html#a4ab305a13f50ed1a6f63b35ac904688f">00102</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a4ab305a13f50ed1a6f63b35ac904688f">$formation</a>;
<a name="l00108"></a><a class="code" href="class_commande.html#a51ad2e91603867e21cd9a5a337af9fa8">00108</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a51ad2e91603867e21cd9a5a337af9fa8">$article</a>;
<a name="l00114"></a><a class="code" href="class_commande.html#ad36cac20889bd444f93ac71b6d6a8c6c">00114</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#ad36cac20889bd444f93ac71b6d6a8c6c">$erreurpaiement</a>;
<a name="l00115"></a>00115 
<a name="l00120"></a><a class="code" href="class_commande.html#ae6c22d9a64b53945588153e62d6cef75">00120</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#ae6c22d9a64b53945588153e62d6cef75">$nom_f</a>;
<a name="l00125"></a><a class="code" href="class_commande.html#ac6ddb923b5b5ad536d6edcde830a5557">00125</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#ac6ddb923b5b5ad536d6edcde830a5557">$prenom_f</a>;
<a name="l00130"></a><a class="code" href="class_commande.html#a211c395b9676cd2df6784fcb73cecdf1">00130</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a211c395b9676cd2df6784fcb73cecdf1">$tel_f</a>;
<a name="l00135"></a><a class="code" href="class_commande.html#a80505de5689bd5a5a4943eeeeb45049a">00135</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a80505de5689bd5a5a4943eeeeb45049a">$fax_f</a>;
<a name="l00140"></a><a class="code" href="class_commande.html#abaa17a463b15079efacacd2cec06fd51">00140</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#abaa17a463b15079efacacd2cec06fd51">$raison_f</a>;
<a name="l00145"></a><a class="code" href="class_commande.html#a98a21a112c56576a5bd030e4a72b175c">00145</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a98a21a112c56576a5bd030e4a72b175c">$adr1_f</a>;
<a name="l00150"></a><a class="code" href="class_commande.html#a6baef626f1f08f3eb7fa9976b81f7294">00150</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a6baef626f1f08f3eb7fa9976b81f7294">$adr2_f</a>;
<a name="l00155"></a><a class="code" href="class_commande.html#a30b6377dd4470c6c79c3ff9f45083a0a">00155</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a30b6377dd4470c6c79c3ff9f45083a0a">$cp_f</a>;
<a name="l00160"></a><a class="code" href="class_commande.html#a1a51c173fcbd091dc972b0cd54eee2b9">00160</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a1a51c173fcbd091dc972b0cd54eee2b9">$ville_f</a>;
<a name="l00165"></a><a class="code" href="class_commande.html#a0b06b4741293566b0c81bf10a6e3a5b6">00165</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a0b06b4741293566b0c81bf10a6e3a5b6">$pays_f</a>;
<a name="l00170"></a><a class="code" href="class_commande.html#ad3ef8ba12d0de40635ee160b39923562">00170</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#ad3ef8ba12d0de40635ee160b39923562">$nompays_f</a>;
<a name="l00175"></a><a class="code" href="class_commande.html#a802b551f2e80675fef3311d8048472cf">00175</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a802b551f2e80675fef3311d8048472cf">$nom_l</a>;
<a name="l00180"></a><a class="code" href="class_commande.html#a955baac6ba7a609d86ed6bc9af18622f">00180</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a955baac6ba7a609d86ed6bc9af18622f">$prenom_l</a>;
<a name="l00185"></a><a class="code" href="class_commande.html#a22c10dbff9d2b04011035d4d79425474">00185</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a22c10dbff9d2b04011035d4d79425474">$tel_l</a>;
<a name="l00190"></a><a class="code" href="class_commande.html#a63e6a2a2fcb9eb947a9216bb0c5a4856">00190</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a63e6a2a2fcb9eb947a9216bb0c5a4856">$fax_l</a>;
<a name="l00195"></a><a class="code" href="class_commande.html#ad5988818d2319f5fc34f73bf1dbeb8cb">00195</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#ad5988818d2319f5fc34f73bf1dbeb8cb">$raison_l</a>;
<a name="l00200"></a><a class="code" href="class_commande.html#a86a12558edc75639a066727f752bd142">00200</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a86a12558edc75639a066727f752bd142">$adr1_l</a>;
<a name="l00205"></a><a class="code" href="class_commande.html#a488633c60b5866883bccd074398f115a">00205</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a488633c60b5866883bccd074398f115a">$adr2_l</a>;
<a name="l00210"></a><a class="code" href="class_commande.html#a9c2f3eb4e747887ccb3228a1db766677">00210</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a9c2f3eb4e747887ccb3228a1db766677">$cp_l</a>;
<a name="l00215"></a><a class="code" href="class_commande.html#a3d32af5458ef3f8d661363c3492cdfaa">00215</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a3d32af5458ef3f8d661363c3492cdfaa">$ville_l</a>;
<a name="l00220"></a><a class="code" href="class_commande.html#a3cead3bacf5f4ce4b5fc06ae949fe5e9">00220</a>         <span class="keyword">public</span> <a class="code" href="class_commande.html#a3cead3bacf5f4ce4b5fc06ae949fe5e9">$pays_l</a>;
<a name="l00221"></a>00221         <span class="keyword">public</span> $nompays_l;
<a name="l00222"></a>00222 
<a name="l00228"></a><a class="code" href="class_commande.html#ae24033a18fb5cee525b6f233cd0ae6f3">00228</a>         function <a class="code" href="class_commande.html#ae24033a18fb5cee525b6f233cd0ae6f3">creerCommande</a>() {
<a name="l00229"></a>00229                 <a class="code" href="class_commande.html#a9077b7d5498ad8bc03a9a9d94ceae99c">$numerop</a>=SelectMax(<span class="stringliteral">&quot;numerop&quot;</span>,<span class="stringliteral">&quot;if_bo_com&quot;</span>);
<a name="l00230"></a>00230                 <a class="code" href="class_commande.html#a9077b7d5498ad8bc03a9a9d94ceae99c">$numerop</a>++;
<a name="l00231"></a>00231                 mysql_query(<span class="stringliteral">&quot;INSERT INTO if_bo_com (numerop,numclient,etat,ttva) VALUES (&#39;$numerop&#39;,&#39;$this-&gt;numclient&#39;,&#39;0&#39;,&#39;$this-&gt;ttva&#39;)&quot;</span>);
<a name="l00232"></a>00232                 <span class="keywordflow">return</span> mysql_insert_id(); <span class="comment">//numcom</span>
<a name="l00233"></a>00233         }
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 
<a name="l00239"></a><a class="code" href="class_commande.html#a62ccc81880dd61a60d018cf16d91369d">00239</a>         function <a class="code" href="class_commande.html#a62ccc81880dd61a60d018cf16d91369d">modifierCommande</a>() {
<a name="l00240"></a>00240                 mysql_query(<span class="stringliteral">&quot;UPDATE if_bo_com SET numclient=&#39;$this-&gt;numclient&#39; WHERE numcom=&#39;$this-&gt;numcom&#39;&quot;</span>);
<a name="l00241"></a>00241         }
<a name="l00242"></a>00242 
<a name="l00247"></a><a class="code" href="class_commande.html#a9d6257e82895d03157604aaaab3dbb2c">00247</a>         function <a class="code" href="class_commande.html#a9d6257e82895d03157604aaaab3dbb2c" title="Fonction qui modifie la commande depuis le CMS.">modifierCommandeAdmin</a>() {
<a name="l00248"></a>00248                 mysql_query(<span class="stringliteral">&quot;UPDATE if_bo_com SET etat=&#39;$this-&gt;etat&#39;, suivi_coliposte=&#39;$this-&gt;suivi_coliposte&#39; WHERE numcom=&#39;$this-&gt;numcom&#39;&quot;</span>);
<a name="l00249"></a>00249         }
<a name="l00250"></a>00250 
<a name="l00254"></a><a class="code" href="class_commande.html#a0d9d1d17386602d0d8ff0076ede4c4aa">00254</a>         function <a class="code" href="class_commande.html#a0d9d1d17386602d0d8ff0076ede4c4aa">modifierCommandeForma</a>() {
<a name="l00255"></a>00255                 mysql_query(<span class="stringliteral">&quot;UPDATE if_bo_com SET montantHT=&#39;$this-&gt;montantHT&#39;, montantTTC=&#39;$this-&gt;montantTTC&#39; WHERE numcom=&#39;$this-&gt;numcom&#39;&quot;</span>);
<a name="l00256"></a>00256         }
<a name="l00260"></a><a class="code" href="class_commande.html#ac7b6b53e780ebb32a0aa008565833578">00260</a>         function <a class="code" href="class_commande.html#ac7b6b53e780ebb32a0aa008565833578">supprimerCommande</a>() {
<a name="l00261"></a>00261                 <a class="code" href="class_commande.html#ae767d2166958fee78f1a6150b9e7c52c">$numlivfact</a>=SelectSimple(<span class="stringliteral">&quot;numlivfact&quot;</span>,<span class="stringliteral">&quot;if_bo_com&quot;</span>,<span class="stringliteral">&quot;numcom&quot;</span>,$this-&gt;numcom);
<a name="l00262"></a>00262                 mysql_query(<span class="stringliteral">&quot;DELETE FROM if_bo_livfact WHERE numlivfact=&#39;$numlivfact&#39;&quot;</span>);
<a name="l00263"></a>00263                 <span class="comment">//mysql_query(&quot;DELETE FROM if_bo_detail WHERE numcom=&#39;$this-&gt;numcom&#39;&quot;);</span>
<a name="l00264"></a>00264                 mysql_query(<span class="stringliteral">&quot;DELETE FROM if_bo_com WHERE numcom=&#39;$this-&gt;numcom&#39;&quot;</span>);
<a name="l00265"></a>00265 
<a name="l00266"></a>00266         }
<a name="l00270"></a><a class="code" href="class_commande.html#a5c7238c4b0346960ce117563012bd067">00270</a>         function <a class="code" href="class_commande.html#a5c7238c4b0346960ce117563012bd067">modifierPays</a>() {
<a name="l00271"></a>00271                 mysql_query(<span class="stringliteral">&quot;UPDATE if_bo_com SET numpays=&#39;$this-&gt;pays&#39; WHERE numcom=&#39;$this-&gt;numcom&#39;&quot;</span>);
<a name="l00272"></a>00272         }
<a name="l00277"></a><a class="code" href="class_commande.html#a93c5ccc51123ba2295b1f72f8b1a70d3">00277</a>         function <a class="code" href="class_commande.html#a93c5ccc51123ba2295b1f72f8b1a70d3" title="Valide une commande par ch&amp;egrave;que.">validerCommandeCheque</a>() {
<a name="l00278"></a>00278                 mysql_query(<span class="stringliteral">&quot;UPDATE if_bo_com SET tpereg=&#39;ch&#39;, etat=&#39;1&#39;, numclient=&#39;$this-&gt;numclient&#39;, dcrea=now(), hcrea=&#39;&quot;</span>.time().<span class="stringliteral">&quot;&#39;,montantHT=&#39;$this-&gt;montantHT&#39;, montantTTC=&#39;$this-&gt;montantTTC&#39;,port=&#39;$this-&gt;fraisPort&#39;,erreur_paiement=&#39;non&#39; WHERE numcom=&#39;$this-&gt;numcom&#39;&quot;</span>);
<a name="l00279"></a>00279         }
<a name="l00284"></a><a class="code" href="class_commande.html#ac8183d9f11530bce3f6822eec864093a">00284</a>         function <a class="code" href="class_commande.html#ac8183d9f11530bce3f6822eec864093a" title="Valide une commande par virement.">validerCommandeVirement</a>() {
<a name="l00285"></a>00285                 mysql_query(<span class="stringliteral">&quot;UPDATE if_bo_com SET tpereg=&#39;vi&#39;, etat=&#39;1&#39;, numclient=&#39;$this-&gt;numclient&#39;, dcrea=now(), hcrea=&#39;&quot;</span>.time().<span class="stringliteral">&quot;&#39;,montantHT=&#39;$this-&gt;montantHT&#39;, montantTTC=&#39;$this-&gt;montantTTC&#39;,port=&#39;$this-&gt;fraisPort&#39;,erreur_paiement=&#39;non&#39; WHERE numcom=&#39;$this-&gt;numcom&#39;&quot;</span>);
<a name="l00286"></a>00286         }
<a name="l00290"></a><a class="code" href="class_commande.html#ad270f8b901b63aa6f1c642bdedcc5c82">00290</a>         function <a class="code" href="class_commande.html#ad270f8b901b63aa6f1c642bdedcc5c82">enregistrerDemandeDevis</a>() {
<a name="l00291"></a>00291                 mysql_query(<span class="stringliteral">&quot;UPDATE if_bo_com SET tpereg=&#39;dv&#39;, etat=&#39;1&#39;, numclient=&#39;$this-&gt;numclient&#39;, dcrea=now(), hcrea=&#39;&quot;</span>.time().<span class="stringliteral">&quot;&#39;,montantHT=&#39;$this-&gt;montantHT&#39;, montantTTC=&#39;$this-&gt;montantTTC&#39;,port=&#39;$this-&gt;fraisPort&#39;,erreur_paiement=&#39;non&#39; WHERE numcom=&#39;$this-&gt;numcom&#39;&quot;</span>);
<a name="l00292"></a>00292         }
<a name="l00296"></a><a class="code" href="class_commande.html#abd769642e22e4ac2eb8d7a9ea0edec90">00296</a>         function <a class="code" href="class_commande.html#abd769642e22e4ac2eb8d7a9ea0edec90">validerCommandeCB</a>() {
<a name="l00297"></a>00297                 mysql_query(<span class="stringliteral">&quot;UPDATE if_bo_com SET tpereg=&#39;cb&#39;, etat=&#39;$this-&gt;etat&#39;, numclient=&#39;$this-&gt;numclient&#39;, dcrea=now(), hcrea=&#39;&quot;</span>.time().<span class="stringliteral">&quot;&#39;,montantHT=&#39;$this-&gt;montantHT&#39;, montantTTC=&#39;$this-&gt;montantTTC&#39;,port=&#39;$this-&gt;fraisPort&#39; WHERE numcom=&#39;$this-&gt;numcom&#39;&quot;</span>);
<a name="l00298"></a>00298         }
<a name="l00302"></a><a class="code" href="class_commande.html#a0866a1f17fb124f0a61909263e65dc6f">00302</a>         function <a class="code" href="class_commande.html#a0866a1f17fb124f0a61909263e65dc6f">validerCommandeCBBanque</a>() {
<a name="l00303"></a>00303                 mysql_query(<span class="stringliteral">&quot;UPDATE if_bo_com SET etat=&#39;$this-&gt;etat&#39;,erreur_paiement=&#39;non&#39; WHERE numcom=&#39;$this-&gt;numcom&#39;&quot;</span>);
<a name="l00304"></a>00304                 mysql_query(<span class="stringliteral">&quot;INSERT INTO if_bo_bq (numcom,numerop,numautorisation,montant,dateop) VALUES (&#39;$this-&gt;numcom&#39;,&#39;$this-&gt;numerop&#39;, &#39;$this-&gt;auto&#39;, &#39;$this-&gt;montant&#39;, now())&quot;</span>);
<a name="l00305"></a>00305         }
<a name="l00309"></a><a class="code" href="class_commande.html#ae9b965cb90c65faf2c4410cc498e5dac">00309</a>         function <a class="code" href="class_commande.html#ae9b965cb90c65faf2c4410cc498e5dac">validerCommandeCBErreur</a>() {
<a name="l00310"></a>00310                 mysql_query(<span class="stringliteral">&quot;UPDATE if_bo_com SET erreur_paiement=&#39;oui&#39; WHERE numcom=&#39;$this-&gt;numcom&#39;&quot;</span>);
<a name="l00311"></a>00311         }
<a name="l00315"></a><a class="code" href="class_commande.html#a351d76d83588fa26ebeb6d1206c89c98">00315</a>         function <a class="code" href="class_commande.html#a351d76d83588fa26ebeb6d1206c89c98">getMontantHT</a>() {
<a name="l00316"></a>00316                 <span class="keywordflow">return</span> SelectSimple(<span class="stringliteral">&quot;montantHT&quot;</span>,<span class="stringliteral">&quot;if_bo_com&quot;</span>,<span class="stringliteral">&quot;numcom&quot;</span>,$this-&gt;numcom);
<a name="l00317"></a>00317         }
<a name="l00321"></a><a class="code" href="class_commande.html#a14dfea20cd27631f1e2f26fe441f36d9">00321</a>         function <a class="code" href="class_commande.html#a14dfea20cd27631f1e2f26fe441f36d9">getMontantTTC</a>() {
<a name="l00322"></a>00322                 <span class="keywordflow">return</span> SelectSimple(<span class="stringliteral">&quot;montantTTC&quot;</span>,<span class="stringliteral">&quot;if_bo_com&quot;</span>,<span class="stringliteral">&quot;numcom&quot;</span>,$this-&gt;numcom);
<a name="l00323"></a>00323         }
<a name="l00327"></a><a class="code" href="class_commande.html#a0819ca689e5ac3bb648585e65b210fc9">00327</a>         function <a class="code" href="class_commande.html#a0819ca689e5ac3bb648585e65b210fc9">getNumCom</a>() {
<a name="l00328"></a>00328                 <span class="keywordflow">return</span> SelectSimple(<span class="stringliteral">&quot;numcom&quot;</span>,<span class="stringliteral">&quot;if_bo_com&quot;</span>,<span class="stringliteral">&quot;numcom&quot;</span>,$this-&gt;numcom);
<a name="l00329"></a>00329         }
<a name="l00333"></a><a class="code" href="class_commande.html#a1d3c4f19bd548f3df36481ce8878e73f">00333</a>         function <a class="code" href="class_commande.html#a1d3c4f19bd548f3df36481ce8878e73f">getNumPays</a>() {
<a name="l00334"></a>00334                 <span class="keywordflow">return</span> SelectSimple(<span class="stringliteral">&quot;numpays&quot;</span>,<span class="stringliteral">&quot;if_bo_com&quot;</span>,<span class="stringliteral">&quot;numcom&quot;</span>,$this-&gt;numcom);
<a name="l00335"></a>00335         }
<a name="l00339"></a><a class="code" href="class_commande.html#a8359403c324083f37568bbffcb41307f">00339</a>         function <a class="code" href="class_commande.html#a8359403c324083f37568bbffcb41307f">enregistrerLivraison</a>() {
<a name="l00340"></a>00340                 mysql_query(<span class="stringliteral">&quot;INSERT INTO if_bo_livfact (numclient,nom_f,prenom_f,tel_f,fax_f,raison_f,adr1_f,adr2_f,cp_f,ville_f,numpays_f,nom_l,prenom_l,tel_l,fax_l,raison_l,adr1_l,adr2_l,cp_l,ville_l,numpays_l) VALUES (&#39;$this-&gt;numclient&#39;,&#39;$this-&gt;nom_f&#39;,&#39;$this-&gt;prenom_f&#39;,&#39;$this-&gt;tel_f&#39;,&#39;$this-&gt;fax_f&#39;,&#39;$this-&gt;raison_f&#39;,&#39;$this-&gt;adr1_f&#39;,&#39;$this-&gt;adr2_f&#39;,&#39;$this-&gt;cp_f&#39;,&#39;$this-&gt;ville_f&#39;,&#39;$this-&gt;pays_f&#39;,&#39;$this-&gt;nom_l&#39;,&#39;$this-&gt;prenom_l&#39;,&#39;$this-&gt;tel_l&#39;,&#39;$this-&gt;fax_l&#39;,&#39;$this-&gt;raison_l&#39;,&#39;$this-&gt;adr1_l&#39;,&#39;$this-&gt;adr2_l&#39;,&#39;$this-&gt;cp_l&#39;,&#39;$this-&gt;ville_l&#39;,&#39;$this-&gt;pays_l&#39;)&quot;</span>);
<a name="l00341"></a>00341                 <a class="code" href="class_commande.html#ae767d2166958fee78f1a6150b9e7c52c">$numlivfact</a>=mysql_insert_id();
<a name="l00342"></a>00342                 mysql_query(<span class="stringliteral">&quot;UPDATE if_bo_com SET numlivfact=&#39;$numlivfact&#39; WHERE numcom=&#39;$this-&gt;numcom&#39;&quot;</span>);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344         }
<a name="l00348"></a><a class="code" href="class_commande.html#a80d73aae9336b874027168f237a9ca55">00348</a>         function <a class="code" href="class_commande.html#a80d73aae9336b874027168f237a9ca55">infosCommande</a>() {
<a name="l00349"></a>00349                 $form=SelectSimple(<span class="stringliteral">&quot;numdetail&quot;</span>,<span class="stringliteral">&quot;if_bo_detail&quot;</span>,<span class="stringliteral">&quot;numcom&quot;</span>,$this-&gt;numcom,<span class="stringliteral">&quot; AND designation=&#39;Inscription formation&#39;&quot;</span>);
<a name="l00350"></a>00350                 <span class="keywordflow">if</span> ($form) $this-&gt;formation=<span class="stringliteral">&quot;o&quot;</span>;
<a name="l00351"></a>00351 
<a name="l00352"></a>00352                 $artic=SelectSimple(<span class="stringliteral">&quot;numarticle&quot;</span>,<span class="stringliteral">&quot;if_bo_detail&quot;</span>,<span class="stringliteral">&quot;numcom&quot;</span>,$this-&gt;numcom);
<a name="l00353"></a>00353                 <span class="keywordflow">if</span> ($artic) $this-&gt;article=<span class="stringliteral">&quot;o&quot;</span>;
<a name="l00354"></a>00354 
<a name="l00355"></a>00355                 $row=SelectMultiple(<span class="stringliteral">&quot;if_bo_com&quot;</span>,<span class="stringliteral">&quot;numcom&quot;</span>,$this-&gt;numcom);
<a name="l00356"></a>00356                 $this-&gt;numerop=$row[<span class="stringliteral">&quot;numerop&quot;</span>];
<a name="l00357"></a>00357                 $this-&gt;tpereg=$row[<span class="stringliteral">&quot;tpereg&quot;</span>];
<a name="l00358"></a>00358                 $this-&gt;numclient=$row[<span class="stringliteral">&quot;numclient&quot;</span>];
<a name="l00359"></a>00359                 $this-&gt;numlivfact=$row[<span class="stringliteral">&quot;numlivfact&quot;</span>];
<a name="l00360"></a>00360                 $this-&gt;numpays=$row[<span class="stringliteral">&quot;numpays&quot;</span>];
<a name="l00361"></a>00361                 $this-&gt;nom_pays=utf8_encode(SelectSimple(<span class="stringliteral">&quot;pays&quot;</span>,<span class="stringliteral">&quot;if_pays&quot;</span>,<span class="stringliteral">&quot;numpays&quot;</span>,$this-&gt;numpays));
<a name="l00362"></a>00362                 $this-&gt;fraisPort=$row[<span class="stringliteral">&quot;port&quot;</span>];
<a name="l00363"></a>00363                 $this-&gt;etat=$row[<span class="stringliteral">&quot;etat&quot;</span>];
<a name="l00364"></a>00364                 $this-&gt;suivi_coliposte=$row[<span class="stringliteral">&quot;suivi_coliposte&quot;</span>];
<a name="l00365"></a>00365                 $this-&gt;dcrea=date(<span class="stringliteral">&quot;d/m/Y&quot;</span>,$row[<span class="stringliteral">&quot;hcrea&quot;</span>]);
<a name="l00366"></a>00366                 $this-&gt;montantTTC=$row[<span class="stringliteral">&quot;montantTTC&quot;</span>];
<a name="l00367"></a>00367                 $this-&gt;montantHT=$row[<span class="stringliteral">&quot;montantHT&quot;</span>];
<a name="l00368"></a>00368                 $this-&gt;erreurpaiement=$row[<span class="stringliteral">&quot;erreur_paiement&quot;</span>];
<a name="l00369"></a>00369 
<a name="l00370"></a>00370                 $this-&gt;designation=SelectSimple(<span class="stringliteral">&quot;designation&quot;</span>,<span class="stringliteral">&quot;if_bo_detail&quot;</span>,<span class="stringliteral">&quot;numcom&quot;</span>,$this-&gt;numcom,<span class="stringliteral">&quot;&quot;</span>);
<a name="l00371"></a>00371                 $this-&gt;qte=SelectSimple(<span class="stringliteral">&quot;qte&quot;</span>,<span class="stringliteral">&quot;if_bo_detail&quot;</span>,<span class="stringliteral">&quot;numcom&quot;</span>,$this-&gt;numcom,<span class="stringliteral">&quot;&quot;</span>);
<a name="l00372"></a>00372 
<a name="l00373"></a>00373         }
<a name="l00377"></a><a class="code" href="class_commande.html#a8ab30b66f98b3945abdd25054cb4de9d">00377</a>         function <a class="code" href="class_commande.html#a8ab30b66f98b3945abdd25054cb4de9d">infosLivraison</a>() {
<a name="l00378"></a>00378                 $row=SelectMultiple(<span class="stringliteral">&quot;if_bo_livfact&quot;</span>,<span class="stringliteral">&quot;numlivfact&quot;</span>,$this-&gt;numlivfact);
<a name="l00379"></a>00379                 $this-&gt;nom_f=$row[<span class="stringliteral">&quot;nom_f&quot;</span>];
<a name="l00380"></a>00380                 $this-&gt;prenom_f=$row[<span class="stringliteral">&quot;prenom_f&quot;</span>];
<a name="l00381"></a>00381                 $this-&gt;tel_f=$row[<span class="stringliteral">&quot;tel_f&quot;</span>];
<a name="l00382"></a>00382                 $this-&gt;fax_f=$row[<span class="stringliteral">&quot;fax_f&quot;</span>];
<a name="l00383"></a>00383                 $this-&gt;raison_f=$row[<span class="stringliteral">&quot;raison_f&quot;</span>];
<a name="l00384"></a>00384                 $this-&gt;adr1_f=$row[<span class="stringliteral">&quot;adr1_f&quot;</span>];
<a name="l00385"></a>00385                 $this-&gt;adr2_f=$row[<span class="stringliteral">&quot;adr2_f&quot;</span>];
<a name="l00386"></a>00386                 $this-&gt;cp_f=$row[<span class="stringliteral">&quot;cp_f&quot;</span>];
<a name="l00387"></a>00387                 $this-&gt;ville_f=$row[<span class="stringliteral">&quot;ville_f&quot;</span>];
<a name="l00388"></a>00388                 $this-&gt;pays_f=$row[<span class="stringliteral">&quot;numpays_f&quot;</span>];
<a name="l00389"></a>00389                 $this-&gt;nompays_f=utf8_encode(SelectSimple(<span class="stringliteral">&quot;pays&quot;</span>,<span class="stringliteral">&quot;if_pays&quot;</span>,<span class="stringliteral">&quot;numpays&quot;</span>,$this-&gt;pays_f));
<a name="l00390"></a>00390                 $this-&gt;nom_l=$row[<span class="stringliteral">&quot;nom_l&quot;</span>];
<a name="l00391"></a>00391                 $this-&gt;prenom_l=$row[<span class="stringliteral">&quot;prenom_l&quot;</span>];
<a name="l00392"></a>00392                 $this-&gt;tel_l=$row[<span class="stringliteral">&quot;tel_l&quot;</span>];
<a name="l00393"></a>00393                 $this-&gt;fax_l=$row[<span class="stringliteral">&quot;fax_l&quot;</span>];
<a name="l00394"></a>00394                 $this-&gt;raison_l=$row[<span class="stringliteral">&quot;raison_l&quot;</span>];
<a name="l00395"></a>00395                 $this-&gt;adr1_l=$row[<span class="stringliteral">&quot;adr1_l&quot;</span>];
<a name="l00396"></a>00396                 $this-&gt;adr2_l=$row[<span class="stringliteral">&quot;adr2_l&quot;</span>];
<a name="l00397"></a>00397                 $this-&gt;cp_l=$row[<span class="stringliteral">&quot;cp_l&quot;</span>];
<a name="l00398"></a>00398                 $this-&gt;ville_l=$row[<span class="stringliteral">&quot;ville_l&quot;</span>];
<a name="l00399"></a>00399                 $this-&gt;pays_l=$row[<span class="stringliteral">&quot;numpays_l&quot;</span>];
<a name="l00400"></a>00400                 $this-&gt;nompays_l=utf8_encode(SelectSimple(<span class="stringliteral">&quot;pays&quot;</span>,<span class="stringliteral">&quot;if_pays&quot;</span>,<span class="stringliteral">&quot;numpays&quot;</span>,$this-&gt;pays_l));
<a name="l00401"></a>00401         }
<a name="l00402"></a>00402 
<a name="l00403"></a>00403 }
<a name="l00404"></a>00404 ?&gt;
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Généré par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>
</html>
